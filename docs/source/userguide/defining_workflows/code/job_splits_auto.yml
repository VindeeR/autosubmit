JOBS:
  APP:
    FILE: app.sh
    FOR:
      DEPENDENCIES:
      - APP_ENERGY_ONSHORE:
          SPLITS_FROM:
            all:
              SPLITS_TO: previous
        OPA_ENERGY_ONSHORE_1:
          SPLITS_FROM:
            all:
              SPLITS_TO: all
        OPA_ENERGY_ONSHORE_2:
          SPLITS_FROM:
            all:
              SPLITS_TO: all
      NAME: '%RUN.APP_NAMES%'
      SPLITS: '1'
    PLATFORM: 'local'
    RUNNING: chunk
    WALLCLOCK: 00:05
  DN:
    DEPENDENCIES:
      APP_ENERGY_ONSHORE-1:
        SPLITS_TO: '1'
      DN:
        SPLITS_FROM:
          all:
            SPLITS_TO: previous
    FILE: dn.sh
    PLATFORM: 'local'
    RUNNING: chunk
    SPLITS: auto
    WALLCLOCK: 00:05
  OPA:
    CHECK: on_submission
    FILE: opa.sh
    FOR:
      DEPENDENCIES:
      - DN:
          SPLITS_FROM:
            all:
              SPLITS_TO: "[1:%JOBS.DN.SPLITS%]*\\1"
        OPA_ENERGY_ONSHORE_1:
          SPLITS_FROM:
            all:
              SPLITS_TO: previous
      - DN:
          SPLITS_FROM:
            all:
              SPLITS_TO: "[1:%JOBS.DN.SPLITS%]*\\1"
        OPA_ENERGY_ONSHORE_2:
          SPLITS_FROM:
            all:
              SPLITS_TO: previous
      NAME: '%RUN.OPA_NAMES%'
      SPLITS: '[auto, auto]'
    PLATFORM: 'local'
    RUNNING: chunk
    WALLCLOCK: 00:05
RUN:
  APP_NAMES:
  - ENERGY_ONSHORE
  OPA_NAMES:
  - energy_onshore_1
  - energy_onshore_2
